schemas:
  common_fields:
    _id: str
    type: str
    profile:
      room_number: str
      floor: int
      wing: str
      room_type: str
      capacity: int
    metadata:
      created_at: datetime
      updated_at: datetime
      status: str

  entity:
    data:
      current_patients: List[str]  # List of patient IDs
      devices: List[Dict]  # Medical equipment in the room
      measurements: List[Dict]  # Environmental measurements (temp, humidity)
      access_logs: List[Dict]  # RFID access logs

  validations:
    mandatory_fields:
      root:
        - _id
        - type
      profile:
        - room_number
        - floor
        - room_type
        - capacity


    type_constraints:
      "profile.floor":
        type: int
        min: 0
        max: 20
      "profile.room_type":
        type: str
        enum: ["standard", "intensive_care", "emergency", "surgery", "isolation"]
      "profile.capacity":
        type: int
        min: 1
        max: 6
      "metadata.status":
        type: str
        enum: ["available", "occupied", "maintenance", "cleaning"]
      devices:
        type: List[Dict]
        item_constraints:
          required_fields: ["device_id", "type", "status"]
          type_mappings:
            device_id: str
            type: str
            status: str
      measurements:
        type: List[Dict]
        item_constraints:
          required_fields: ["measure_type", "value", "timestamp"]
          type_mappings:
            measure_type: str
            value: float
            timestamp: datetime
      access_logs:
        type: List[Dict]
        item_constraints:
          required_fields: ["rfid_tag", "timestamp", "access_type"]
          type_mappings:
            rfid_tag: str
            timestamp: datetime
            access_type: str

  initialization:
    metadata:
      status: "available"
    data:
      current_patients: []
      devices: []
      measurements: []
      access_logs: []