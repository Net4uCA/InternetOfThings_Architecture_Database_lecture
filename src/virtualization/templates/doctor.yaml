schemas:
  common_fields:
    _id: str
    type: str
    profile:
      first_name: str
      last_name: str
      birth_date: datetime
      gender: str
      rfid_tag: str
      doctor_id: str
      specialization: str
      license_number: str
      department: str
      contact_info: Dict
    metadata:
      created_at: datetime
      updated_at: datetime
      status: str
      current_shift: Dict

  entity:
    data:
      assigned_patients: List[str]  # List of patient IDs
      room_access_history: List[Dict]  # History of room accesses
      appointments: List[Dict]  # Scheduled appointments
      on_call_schedule: List[Dict]  # On-call duty schedule

  validations:
    mandatory_fields:
      root:
        - _id
        - type
      profile:
        - first_name
        - last_name
        - rfid_tag
        - doctor_id
        - specialization
        - license_number
      metadata:
        - created_at
        - updated_at
        - status

    type_constraints:
      "profile.gender":
        type: str
        enum: ["male", "female", "other"]
      "profile.specialization":
        type: str
        enum: ["cardiology", "neurology", "pediatrics", "surgery", "internal_medicine", "emergency", "intensive_care"]
      "profile.contact_info":
        type: Dict
        item_constraints:
          required_fields: ["email", "phone", "emergency_contact"]
          type_mappings:
            email: str
            phone: str
            emergency_contact: str
      "metadata.status":
        type: str
        enum: ["active", "off_duty", "on_leave", "suspended"]
      "metadata.current_shift":
        type: Dict
        item_constraints:
          required_fields: ["shift_type", "start_time", "end_time"]
          type_mappings:
            shift_type: str
            start_time: datetime
            end_time: datetime
      room_access_history:
        type: List[Dict]
        item_constraints:
          required_fields: ["room_id", "timestamp", "access_type"]
          type_mappings:
            room_id: str
            timestamp: datetime
            access_type: str
      appointments:
        type: List[Dict]
        item_constraints:
          required_fields: ["patient_id", "room_id", "timestamp", "type", "status"]
          type_mappings:
            patient_id: str
            room_id: str
            timestamp: datetime
            type: str
            status: str
      on_call_schedule:
        type: List[Dict]
        item_constraints:
          required_fields: ["start_time", "end_time", "department"]
          type_mappings:
            start_time: datetime
            end_time: datetime
            department: str

  initialization:
    metadata:
      status: "active"
    data:
      assigned_patients: []
      room_access_history: []
      appointments: []
      on_call_schedule: []